{"version":3,"sources":["webpack:///G:/program/mobilewhcmfont/cool/ui/components/form-item/form-item.vue?80f4","webpack:///G:/program/mobilewhcmfont/cool/ui/components/form-item/form-item.vue?13a2","webpack:///G:/program/mobilewhcmfont/cool/ui/components/form-item/form-item.vue?135d","webpack:///G:/program/mobilewhcmfont/cool/ui/components/form-item/form-item.vue?693f","webpack:///G:/program/mobilewhcmfont/cool/ui/components/form-item/form-item.vue"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","props","prop","String","label","disabled","Boolean","labelWidth","showMessage","type","default","justify","validateOnValueChange","data","required","message","error","validator","computed","label2","labelWidth2","parent","showMessage2","contentWidth","isJustify","isRequired","isError","isSuffix","$scopedSlots","suffix","isDisabled","getParent","call","rules","rules2","changeRule","destroyed","removeField","methods","addField","rule","Array","forEach","e","AsyncValidator","onResponse","value","action","$nextTick","validate","onListener","$watch","model","val","deep","errors","fields"],"mappings":"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","file":"cool/ui/components/form-item/form-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./form-item.vue?vue&type=template&id=27458742&\"\nvar renderjs\nimport script from \"./form-item.vue?vue&type=script&lang=js&\"\nexport * from \"./form-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"program/mobilewhcmfont/cool/ui/components/form-item/form-item.vue\"\nexport default component.exports","export * from \"-!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-item.vue?vue&type=template&id=27458742&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../前端工具/HBuilderX.2.6.16.20200424.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-item.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport AsyncValidator from '../../utils/async-validator';\r\nimport { getParent } from '../../utils';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tprop: String,\r\n\t\tlabel: String,\r\n\t\tdisabled: Boolean,\r\n\t\tlabelWidth: String,\r\n\t\tshowMessage: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tjustify: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'start'\r\n\t\t},\r\n\t\tvalidateOnValueChange: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trequired: false,\r\n\t\t\tmessage: null,\r\n\t\t\terror: false,\r\n\t\t\tvalidator: null\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tlabel2() {\r\n\t\t\treturn this.label == 'true' ? '' : this.label;\r\n\t\t},\r\n\r\n\t\tlabelWidth2() {\r\n\t\t\treturn this.labelWidth || this.parent.labelWidth;\r\n\t\t},\r\n\r\n\t\tshowMessage2() {\r\n\t\t\treturn (this.showMessage || this.parent.showMessage) && this.error;\r\n\t\t},\r\n\r\n\t\tcontentWidth() {\r\n\t\t\treturn `calc(100% - ${this.labelWidth} - 20rpx)`;\r\n\t\t},\r\n\r\n\t\tisJustify() {\r\n\t\t\treturn this.justify !== 'start' ? `is-justify-${this.justify}` : '';\r\n\t\t},\r\n\r\n\t\tisRequired() {\r\n\t\t\treturn this.required ? 'cl-form-item--required' : '';\r\n\t\t},\r\n\r\n\t\tisError() {\r\n\t\t\treturn this.error ? 'cl-form-item--error' : '';\r\n\t\t},\r\n\r\n\t\tisSuffix() {\r\n\t\t\treturn this.$scopedSlots.suffix ? 'cl-form-item--suffix' : '';\r\n\t\t},\r\n\r\n\t\tisDisabled() {\r\n\t\t\treturn this.disabled ? 'cl-form-item--disabled' : '';\r\n\t\t},\r\n\r\n\t\tparent() {\r\n\t\t\tlet parent = getParent.call(this, 'ClForm', [\r\n\t\t\t\t'labelWidth',\r\n\t\t\t\t'showMessage',\r\n\t\t\t\t'model',\r\n\t\t\t\t'addField',\r\n\t\t\t\t'removeField',\r\n\t\t\t\t'validateOnValueChange',\r\n\t\t\t\t'rules2'\r\n\t\t\t]);\r\n\r\n\t\t\tparent.rules = parent.rules2;\r\n\r\n\t\t\tthis.changeRule(parent);\r\n\r\n\t\t\treturn parent;\r\n\t\t}\r\n\t},\r\n\r\n\tdestroyed() {\r\n\t\tif (this.parent.removeField) {\r\n\t\t\tthis.parent.removeField(this.prop);\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tchangeRule({ rules = {}, addField }) {\r\n\t\t\tif (!rules) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst rule = rules[this.prop];\r\n\r\n\t\t\tif (rule) {\r\n\t\t\t\tthis.required = false;\r\n\t\t\t\tthis.message = '';\r\n\r\n\t\t\t\tif (rule instanceof Array) {\r\n\t\t\t\t\trule.forEach(e => {\r\n\t\t\t\t\t\tif (e.required) {\r\n\t\t\t\t\t\t\tthis.required = e.required;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (e.message) {\r\n\t\t\t\t\t\t\tthis.message = e.message;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.required = rule.required;\r\n\t\t\t\t\tthis.message = rule.message;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 检验器\r\n\t\t\t\tthis.validator = new AsyncValidator({\r\n\t\t\t\t\t[this.prop]: rule\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 响应事件\r\n\t\t\t\taddField(this.prop, this.onResponse);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonResponse({ value, action }) {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tif (action == 'clear') {\r\n\t\t\t\t\tthis.error = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (action == 'validate') {\r\n\t\t\t\t\tif (this.validateOnValueChange || this.parent.validateOnValueChange) {\r\n\t\t\t\t\t\tthis.validate(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonListener(parent) {\r\n\t\t\tlet unwatch = this.$watch(\r\n\t\t\t\t() => {\r\n\t\t\t\t\treturn parent.model[this.prop];\r\n\t\t\t\t},\r\n\t\t\t\tval => {\r\n\t\t\t\t\tthis.validate(val);\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tdeep: false\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\t// unwatch();\r\n\t\t},\r\n\r\n\t\tvalidate(val) {\r\n\t\t\tthis.validator.validate({ [this.prop]: val }, (errors, fields) => {\r\n\t\t\t\tthis.error = errors;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n"],"sourceRoot":""}