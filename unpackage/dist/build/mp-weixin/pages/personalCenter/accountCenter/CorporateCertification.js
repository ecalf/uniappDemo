(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personalCenter/accountCenter/CorporateCertification","components/u-upload/u-upload"],{"0870":function(t,e,o){"use strict";var n={"u-upload":function(){return Promise.resolve().then(o.bind(null,"16a6"))},"cl-icon":function(){return Promise.all([o.e("common/vendor"),o.e("cool/ui/components/icon/icon")]).then(o.bind(null,"2e8b"))}},s=function(){var t=this,e=t.$createElement;t._self._c},i=[];o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}))},"16a6":function(t,e,o){"use strict";o.r(e);var n=o("ef9d"),s=o("fc68");for(var i in s)"default"!==i&&function(t){o.d(e,t,(function(){return s[t]}))}(i);o("55ec");var a,r=o("f0c5"),l=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"8b2fdafe",null,!1,n["a"],a);e["default"]=l.exports},"31a3":function(t,e,o){"use strict";o.r(e);var n=o("b15d"),s=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=s.a},"3f7a":function(t,e,o){"use strict";var n=o("a83c"),s=o.n(n);s.a},"50f0":function(t,e,o){"use strict";(function(t){o("bca8"),o("921b");n(o("66fd"));var e=n(o("c124"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},"510f":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){o.e("components/u-line-progress/u-line-progress").then(function(){return resolve(o("07ac"))}.bind(null,o)).catch(o.oe)},s={name:"u-upload",components:{uLineProgress:n},props:{showUploadList:{type:Boolean,default:!0},action:{type:String,default:""},maxCount:{type:[String,Number],default:52},showProgress:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},imageMode:{type:String,default:"aspectFill"},header:{type:Object,default:function(){return{}}},formData:{type:Object,default:function(){return{}}},name:{type:String,default:"file"},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}},previewFullImage:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},deletable:{type:Boolean,default:!0},maxSize:{type:[String,Number],default:Number.MAX_VALUE},fileList:{type:Array,default:function(){return[]}},uploadText:{type:String,default:"选择图片"},autoUpload:{type:Boolean,default:!0},showTips:{type:Boolean,default:!0},customBtn:{type:Boolean,default:!1},width:{type:[String,Number],default:200}},mounted:function(){},data:function(){return{lists:[],isInCount:!0,uploading:!1}},watch:{fileList:{immediate:!0,handler:function(t){var e=this;t.map((function(t){e.lists.push({url:t.url,error:!1,progress:100})}))}}},methods:{clear:function(){this.lists=[],this.$emit("on-list-change",this.lists)},reUpload:function(){this.uploadFile()},selectFile:function(){var e=this;if(!this.disabled){this.name;var o=this.maxCount,n=this.multiple,s=this.maxSize,i=this.sizeType,a=this.lists,r=(this.camera,this.compressed,this.maxDuration,this.sourceType),l=null,u=o-a.length;l=new Promise((function(e,o){t.chooseImage({count:n?u>9?9:u:1,sourceType:r,sizeType:i,success:e,fail:o})})),l.then((function(t){var i=e.lists.length;t.tempFiles.map((function(t,i){if(n||!(i>=1))if(t.size>s)e.$emit("on-oversize",t,e.lists),e.showToast("超出允许的文件大小");else{if(o<=a.length)return e.$emit("on-exceed",t,e.lists),void e.showToast("超出最大允许的文件个数");a.push({url:t.path,progress:0,error:!1}),e.$emit("on-list-change",e.lists)}})),e.$emit("on-choose-complete",e.lists),e.autoUpload&&e.uploadFile(i)})).catch((function(t){}))}},showToast:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.showTips||o)&&t.showToast({title:e,icon:"none"})},upload:function(){this.uploadFile()},retry:function(e){this.lists[e].progress=0,this.lists[e].error=!1,this.lists[e].response=null,t.showLoading({title:"重新上传"}),this.uploadFile(e)},uploadFile:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.disabled&&!this.uploading)if(o>=this.lists.length)this.$emit("on-uploaded",this.lists);else if(this.action)if(100!=this.lists[o].progress){this.lists[o].error=!1,this.uploading=!0;var n=t.uploadFile({url:this.action,filePath:this.lists[o].url,name:this.name,formData:this.formData,header:this.header,success:function(t){200!=t.statusCode?e.uploadError(o,t.data):(e.lists[o].response=t.data,e.lists[o].progress=100,e.lists[o].error=!1,e.$emit("on-success",t.data,o,e.lists))},fail:function(t){e.uploadError(o,t)},complete:function(n){t.hideLoading(),e.uploading=!1,e.uploadFile(o+1),e.$emit("on-change",n,o,e.lists)}});n.onProgressUpdate((function(t){t.progress>0&&(e.lists[o].progress=t.progress,e.$emit("on-progress",t,o,e.lists))}))}else 0==this.autoUpload&&this.uploadFile(o+1);else this.showToast("请配置上传地址",!0)},uploadError:function(t,e){this.lists[t].progress=0,this.lists[t].error=!0,this.lists[t].response=null,this.$emit("on-error",e,t,this.lists),this.showToast("上传失败，请重试")},deleteItem:function(e){var o=this;t.showModal({title:"提示",content:"您确定要删除此项吗？",success:function(t){t.confirm&&(o.lists[e].process<100&&o.lists[e].process>0&&"undefined"!=typeof o.lists[e].uploadTask&&o.lists[e].uploadTask.abort(),o.lists.splice(e,1),o.$forceUpdate(),o.$emit("on-remove",e,o.lists),o.showToast("移除成功"),o.$emit("on-list-change",o.lists))}})},remove:function(t){t>=0&&t<this.lists.length&&(this.lists.splice(t,1),this.$emit("on-list-change",this.lists))},doPreviewImage:function(e,o){var n=this;if(this.previewFullImage){var s=this.lists.map((function(t){return t.url||t.path}));t.previewImage({urls:s,current:e,success:function(){n.$emit("on-preview",e,n.lists)},fail:function(){t.showToast({title:"预览图片失败",icon:"none"})}})}}}};e.default=s}).call(this,o("543d")["default"])},"55ec":function(t,e,o){"use strict";var n=o("8784"),s=o.n(n);s.a},8784:function(t,e,o){},a83c:function(t,e,o){},b15d:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("0c0e")),s=i(o("16a6"));function i(t){return t&&t.__esModule?t:{default:t}}var a={comments:{uUpload:s.default},data:function(){return{current:0,uploadState:{COMPLETE:0,UNFINISHED:1,SUCCESS:2,ERROR:3,files:{}},action:n.default.getUploadData,fileList:[],showUploadList:!0,customBtn:!1,autoUpload:!0,showProgress:!0,deletable:!0,customStyle:!1,maxCount:1,lists:[],imgurl:[],CorporateformList:{},Corporateform:{scene:"identify_company",contact_name:"",contact_phone:"",bank_name:"",bank_account:"",full_name:"",company_name:"",business_license:"",business_license_code:"",business_scope_cate:"",company_form:"",hand_identify_card_photo:"",legal_identify_card_photo_font:"",legal_identify_card_photo_back:"",legal_person:"",legal_person_cardno:"",industry:""},countryList:[{value:"1",name:"工厂"},{value:"2",name:"代理"}]}},methods:{radioChange:function(t){for(var e=0;e<this.countryList.length;e++)if(this.countryList[e].value===t.target.value){this.current=e;break}this.Corporateform.company_form=t.target.value},checkUploadFiles:function(){var t=!0,e=this.uploadState,o=this.uploadState.files;for(var n in o)if(o[n]==e.UNFINISHED||o[n]==e.EEROR){t=!1;break}return t},uploadHandler:function(t,e,o){for(var n=[],s=0;s<t.length;s++)n.push(t[s]);n.push(o),this[e].apply(this,n)},onProgress:function(t,e,o,n){this.uploadState.files[n]=this.uploadState.UNFINISHED},onSuccess:function(t,e,o,n){t=JSON.parse(t),this.uploadState.files[n]=this.uploadState.SUCCESS,this.Corporateform[n]=t.data.img_url},onChange:function(t,e,o,n){this.uploadState.files[n]=this.uploadState.COMPLETE},onError:function(t,e,o,n){this.uploadState.files[n]=this.uploadState.EEROR},onRemove:function(t,e,o){this.uploadState.files[o]=void 0,this.Corporateform[o]=""},onListChange:function(t){},confirm:function(){this.request({url:n.default.getPersonData,dataType:"JSON",method:"POST",data:{data:{scene:this.Corporateform.scene,company:{contact_name:this.Corporateform.contact_name,contact_phone:this.Corporateform.contact_phone,company_name:this.Corporateform.company_name,hand_identify_card_photo:this.Corporateform.hand_identify_card_photo,business_scope_cate:this.Corporateform.business_scope_cate,business_license:this.Corporateform.business_license,business_license_code:this.Corporateform.business_license_code,company_form:this.Corporateform.company_form,legal_person:this.Corporateform.legal_person,legal_person_cardno:this.Corporateform.legal_person_cardno,legal_identify_card_photo_font:this.Corporateform.legal_identify_card_photo_font,legal_identify_card_photo_back:this.Corporateform.legal_identify_card_photo_back,industry:this.Corporateform.industry},bank:{full_name:this.Corporateform.full_name,bank_name:this.Corporateform.bank_name,bank_account:this.Corporateform.bank_account}}},success:function(e){200===e.code?(t.showToast({title:"您的资料已提交",duration:1500}),setTimeout((function(){t.switchTab({url:"/pages/personalCenter/personalCenter"})}),2e3)):t.showToast({title:e.message,icon:"none"})}})}}};e.default=a}).call(this,o("543d")["default"])},c124:function(t,e,o){"use strict";o.r(e);var n=o("0870"),s=o("31a3");for(var i in s)"default"!==i&&function(t){o.d(e,t,(function(){return s[t]}))}(i);o("3f7a");var a,r=o("f0c5"),l=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=l.exports},ef9d:function(t,e,o){"use strict";var n={"cl-icon":function(){return Promise.all([o.e("common/vendor"),o.e("cool/ui/components/icon/icon")]).then(o.bind(null,"2e8b"))},"u-line-progress":function(){return o.e("components/u-line-progress/u-line-progress").then(o.bind(null,"07ac"))}},s=function(){var t=this,e=t.$createElement;t._self._c},i=[];o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}))},fc68:function(t,e,o){"use strict";o.r(e);var n=o("510f"),s=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=s.a}},[["50f0","common/runtime","common/vendor"]]]);