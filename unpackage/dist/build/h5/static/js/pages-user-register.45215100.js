(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-register"],{"0c0e":function(e,t){var r="https://wapi.wanheglobal.com/api.php",i={getBannerData:r+"",getCategroyData:r+"/v1/category/get-product-cate-list",getBrandData:r+"/v1/category/get-brand-list",getqualtData:r+"/v1/category/get-qualification-cate-list",getUnitData:r+"/v1/category/get-unit-category",getCountryData:r+"/v1/user/countrylist",getNeedsData:r+"/v1/needs/get-list",getInfoData:r+"/v1/needs/get-info",getQuotationData:r+"/v1/needs/quotation",getPublishData:r+"/v1/needs/publish",getModifyData:r+"/v1/needs/edit",getUploadData:r+"/v1/upload",getkindData:r+"/v1/category/get-product-kinds",getRegisterData:r+"/v1/user/register",getCodeData:r+"/v1/msg/send",getLoignData:r+"/v1/user/login",getPersonData:r+"/v1/user/identification",getManagerData:r+"/v1/user/company_info_edit",getMyneedData:r+"/v1/user/get-my-needs-list",getMyquoteData:r+"/v1/user/get-my-quotation-list",getSupplierData:r+"/v1/user/myprofiles",getEnterpriseData:r+"/v1/user/get-other-user-info",getSatusData:r+"/v1/needs/change-status",getPoolData:r+"/v1/user/get-collect-list",getCollectData:r+"/v1/user/collect",getofferData:r+"/v1/user/get-quotation-info"};e.exports=i},1354:function(e,t,r){"use strict";r.r(t);var i=r("aa33"),a=r.n(i);for(var s in i)"default"!==s&&function(e){r.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},"4a98":function(e,t,r){"use strict";var i,a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)},reset:function(t){arguments[0]=t=e.$handleEvent(t),e.formReset.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("选择国家")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.countryList,(function(t,i){return r("v-uni-label",{key:i,staticClass:"uni-list-cell uni-list-cell-pd"},[r("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{value:t.value,checked:i===e.current,color:"#44a78d"}}),e._v(e._s(t.name))],1)})),1)],1)],1),0==e.current?r("v-uni-view",{staticClass:"country-list"},[2==e.registerForm.type?r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("机构名称")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"organization",value:"",placeholder:"请输入机构名称"},model:{value:e.registerForm.organization_name,callback:function(t){e.$set(e.registerForm,"organization_name",t)},expression:"registerForm.organization_name"}})],1)],1):e._e(),3==e.registerForm.type?r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("企业名称")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"company",value:"",placeholder:"请输入公司名称"},model:{value:e.registerForm.company_name,callback:function(t){e.$set(e.registerForm,"company_name",t)},expression:"registerForm.company_name"}})],1)],1):e._e(),3==e.registerForm.type?r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("联系人")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"contact",value:"",placeholder:"请输入联系人"},model:{value:e.registerForm.contact_name,callback:function(t){e.$set(e.registerForm,"contact_name",t)},expression:"registerForm.contact_name"}})],1)],1):e._e(),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("手机号码")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"mobile",value:"",placeholder:"请输入手机号码"},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}})],1)],1),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("验证码")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-view",{staticClass:"m-flex"},[r("v-uni-input",{staticClass:"m-input-fullwidth",attrs:{type:"text",name:"code",value:"",placeholder:""},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}}),e.get_code?r("v-uni-text",{staticClass:"send-code",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendCode()}}},[e._v("发送验证码")]):r("v-uni-text",{staticClass:"send-code"},[e._v(e._s(e.count)+"秒后重新获取")])],1)],1)],1),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("设置密码")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"password",name:"password",value:"",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1)],1),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("确认密码")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"password",name:"re_password",value:"",placeholder:"请确认密码"},model:{value:e.registerForm.re_password,callback:function(t){e.$set(e.registerForm,"re_password",t)},expression:"registerForm.re_password"}})],1)],1)],1):r("v-uni-view",{staticClass:"country-list"},[2==e.registerForm.type?r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("机构名称")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"organization",value:"",placeholder:"请输入机构名称"},model:{value:e.registerForm.organization_name,callback:function(t){e.$set(e.registerForm,"organization_name",t)},expression:"registerForm.organization_name"}})],1)],1):e._e(),3==e.registerForm.type?r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("企业名称")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"company",value:"",placeholder:"请输入公司名称"},model:{value:e.registerForm.company_name,callback:function(t){e.$set(e.registerForm,"company_name",t)},expression:"registerForm.company_name"}})],1)],1):e._e(),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("用户名")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"text",name:"username",value:"",placeholder:"用户名"},model:{value:e.registerForm.user_name,callback:function(t){e.$set(e.registerForm,"user_name",t)},expression:"registerForm.user_name"}})],1)],1),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("设置密码")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"password",value:"",name:"password",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1)],1),r("v-uni-view",{staticClass:"uni-form-item"},[r("v-uni-view",{staticClass:"title"},[e._v("确认密码")]),r("v-uni-view",{staticClass:"uni-input"},[r("v-uni-input",{attrs:{type:"password",value:"",name:"re_password",placeholder:"请确认密码"},model:{value:e.registerForm.re_password,callback:function(t){e.$set(e.registerForm,"re_password",t)},expression:"registerForm.re_password"}})],1)],1)],1),r("v-uni-view",{staticClass:"read-checkbox"},[r("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{color:"#44a78d",checked:e.isChecked,name:"checkbox"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isChecked=!e.isChecked}}}),e._v("我已阅读并接受"),r("v-uni-navigator",[e._v("用户协议")]),e._v("和"),r("v-uni-navigator",[e._v("隐私政策")])],1),r("v-uni-view",{staticClass:"common-btn"},[r("v-uni-button",{attrs:{"form-type":"submit"}},[e._v("立即注册")])],1)],1)],1)},s=[];r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return i}))},aa33:function(e,t,r){"use strict";var i=r("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("0c0e")),s=r("f3b9"),n={data:function(){return{current:0,num:!0,get_code:!0,isgetcode:!1,count:60,country:"China",isChecked:!1,registerForm:{mobile:"",code:"",password:"",re_password:"",state_code:"",checkbox:"",user_name:"",company_name:"",contact_name:"",organization_name:"",type:""},countryList:[{value:"China",name:"中国"},{value:"America",name:"国外"}],rules:[{name:"organization",checkType:"notnull",checkRule:"",errorMsg:"请输入机构名称"},{name:"company",checkType:"notnull",checkRule:"",errorMsg:"请输入公司名称"},{name:"contact",checkType:"notnull",checkRule:"",errorMsg:"请输入联系人"},{name:"username",checkType:"notnull",checkRule:"",errorMsg:"请输入用户名"},{name:"mobile",checkType:"phoneno",checkRule:"",errorMsg:"请输入正确的手机号"},{name:"code",checkType:"string",checkRule:"6,6",errorMsg:"请输入验证码"},{name:"password",checkType:"notnull",checkRule:"",errorMsg:"请输入密码"},{name:"re_password",checkType:"checkpass",checkRule:"",errorMsg:"两次密码输入不一致"},{name:"isChecked",checkType:"ischecked",checkRule:"",errorMsg:"请勾选协议"}]}},onLoad:function(e){this.registerForm.type=e.type},methods:{radioChange:function(e){for(var t=0;t<this.countryList.length;t++)if(this.countryList[t].value===e.target.value){this.current=t;break}this.country=e.target.value,this.registerForm.password="",this.registerForm.re_password="",this.registerForm.company_name="",this.registerForm.contact_name="",this.registerForm.organization_name=""},sendCode:function(){var e=this;if(""!==this.registerForm.mobile){this.get_code=!1,this.isgetcode=!0;var t=setInterval((function(){e.count--,e.count<1&&(e.get_code=!0,e.count=60,clearInterval(t))}),1e3)}else uni.showToast({title:"请输入手机号",icon:"none"});this.request({url:a.default.getCodeData,dataType:"JSON",method:"POST",data:{data:{mobile:this.registerForm.mobile,type:2}},success:function(e){}})},formSubmit:function(e){var t=e.detail.value;t.isChecked=this.isChecked;var r=s.check(t,this.rules);r?this.request({url:a.default.getRegisterData,dataType:"JSON",method:"POST",data:{data:{mobile:this.registerForm.mobile,code:this.registerForm.code,password:this.registerForm.password,re_password:this.registerForm.re_password,state_code:"China"==this.country?86:"",user_name:this.registerForm.user_name,company_name:this.registerForm.company_name,contact_name:this.registerForm.contact_name,organization_name:this.registerForm.organization_name,country:this.country,type:this.registerForm.type}},success:function(e){console.log(e),200==e.code?(console.log(123),uni.showToast({title:"注册成功",icon:"none"}),uni.navigateTo({url:"/pages/user/login"})):uni.showToast({title:e.message,icon:"none"})},fail:function(e){}}):uni.showToast({title:s.error,icon:"none"})},formReset:function(e){this.chosen=""}}};t.default=n},ce16:function(e,t,r){"use strict";r.r(t);var i=r("4a98"),a=r("1354");for(var s in a)"default"!==s&&function(e){r.d(t,e,(function(){return a[e]}))}(s);var n,o=r("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);t["default"]=c.exports},f3b9:function(e,t,r){r("c975"),r("a9e3"),r("4d63"),r("ac1f"),r("25f0"),r("1276"),e.exports={error:"",check:function(e,t,r){console.log(t);for(var i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if(e[t[i].name]||""===e[t[i].name]&&"undefined"!=e[t[i].name]||0==e[t[i].name])switch(t[i].checkType){case"string":var a=new RegExp("^.{"+t[i].checkRule+"}$");if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"int":a=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$");if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[i].name]))return this.error=t[i].errorMsg,!1;var s=t[i].checkRule.split(",");if(s[0]=Number(s[0]),s[1]=Number(s[1]),e[t[i].name]>s[1]||e[t[i].name]<s[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":a=/^-?[1-9][0-9]?$/;if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;s=t[i].checkRule.split(",");if(s[0]=Number(s[0]),s[1]=Number(s[1]),e[t[i].name]>s[1]||e[t[i].name]<s[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":a=/^-?[0-9][0-9]?.+[0-9]+$/;if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;s=t[i].checkRule.split(",");if(s[0]=Number(s[0]),s[1]=Number(s[1]),e[t[i].name]>s[1]||e[t[i].name]<s[0])return this.error=t[i].errorMsg,!1;break;case"same":if(e[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(e[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":a=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":a=/^1[0-9]{10,10}$/;if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":a=/^[0-9]{6}$/;if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":a=new RegExp(t[i].checkRule);if(!a.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"notnull":if(null==e[t[i].name]||e[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break;case"checkpass":if(e["password"]!=e["re_password"])return this.error=t[i].errorMsg,!1;break;case"ischecked":if(0==e[t[i].name])return this.error=t[i].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}}}]);